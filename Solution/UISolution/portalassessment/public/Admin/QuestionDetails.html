<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Question Details</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="bg-[#f8f9fa]">

<div class="max-w-3xl mx-auto mt-6 px-4">
    <h2 class="text-center text-2xl font-bold mb-4">Question Information</h2>

    <div id="questionCard" 
         class="bg-white rounded-xl p-5 shadow-md mt-8">
    </div>
</div>

<script>

function QuestionDetails(questionId) {

    API_URL = `http://localhost:5238/api/questionbank/questions/${questionId}`;

    $.ajax({
        url: API_URL,
        method: "GET",
        success: function (data) {

            let correctAnswer = data.answerKey.toLowerCase();

            let html = `
                <h4 class="text-xl font-semibold mb-3"><strong>Q:</strong> ${data.title}</h4>

                <div class="option-box ${correctAnswer === 'a' ? 'correct' : ''} p-3 rounded-md mb-2 bg-[#f8f9fa] 
                            ${correctAnswer === 'a' ? 'bg-[#d1e7dd] border-l-[5px] border-[#0f5132]' : ''}">
                    <strong>A:</strong> ${data.a}
                </div>

                <div class="option-box ${correctAnswer === 'b' ? 'correct' : ''} p-3 rounded-md mb-2 bg-[#f8f9fa]
                            ${correctAnswer === 'b' ? 'bg-[#d1e7dd] border-l-[5px] border-[#0f5132]' : ''}">
                    <strong>B:</strong> ${data.b}
                </div>

                <div class="option-box ${correctAnswer === 'c' ? 'correct' : ''} p-3 rounded-md mb-2 bg-[#f8f9fa]
                            ${correctAnswer === 'c' ? 'bg-[#d1e7dd] border-l-[5px] border-[#0f5132]' : ''}">
                    <strong>C:</strong> ${data.c}
                </div>

                <div class="option-box ${correctAnswer === 'd' ? 'correct' : ''} p-3 rounded-md mb-2 bg-[#f8f9fa]
                            ${correctAnswer === 'd' ? 'bg-[#d1e7dd] border-l-[5px] border-[#0f5132]' : ''}">
                    <strong>D:</strong> ${data.d}
                </div>

                <hr class="my-4">
                <p class="text-green-700 font-bold text-lg">
                    Correct Answer: ${data.answerKey.toUpperCase()}
                </p>
            `;

            $("#questionCard").html(html);
        },

        error: function () {
            alert("Failed to load question data");
        }
    });
}

</script>

</body>
</html>
